<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Login - Cambridge Copilot</title>
    <link rel="canonical" href="https://mr-islam.schooltool.io/login.html">
    <meta property="og:url" content="https://mr-islam.schooltool.io/login.html">
    <meta name="description" content="Powered by Cambridge Copilot, Mr Islam is your Islamic AI assistant, optimized for Islamic Studying research and assistance">
    <meta property="og:title" content="Fred AI">
    <meta property="og:image" content="https://mr-islam.schooltool.io/assets/img/final_transparent.png">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Your French Copilot, powered by Cambridge Copilot">
    <link rel="icon" type="image/png" sizes="433x576" href="assets/img/final_transparent.png?h=16b0a0f630457a23243c3d7627938792">
    <link rel="icon" type="image/png" sizes="433x576" href="assets/img/final_transparent.png?h=16b0a0f630457a23243c3d7627938792">
    <link rel="icon" type="image/png" sizes="433x576" href="assets/img/final_transparent.png?h=16b0a0f630457a23243c3d7627938792">
    <link rel="icon" type="image/png" sizes="433x576" href="assets/img/final_transparent.png?h=16b0a0f630457a23243c3d7627938792">
    <link rel="icon" type="image/png" sizes="433x576" href="assets/img/final_transparent.png?h=16b0a0f630457a23243c3d7627938792">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css?h=fe7fdfec700d100dc745dc64d3600cb2">
    <link rel="manifest" href="manifest.json?h=4f24fe3cbd579904400e9b314144a3e2">
    <link rel="stylesheet" href="assets/css/Landing-Page---Parallax-Background---Logo-Heading-ButtonGIF.css?h=d59fbe212bca997bd52b340a1416d125">
    <link rel="stylesheet" href="assets/css/Navbar-Right-Links-Dark-icons.css?h=2f36e2613b433c59f1d803b23a13a655">
    <link rel="stylesheet" href="assets/css/styles.css?h=862eb0be68989dd4eeb085c3316bb2ee">
</head>

<body style="height: 1000px;background: rgb(0,0,0);">
    <!-- Start: Navbar Right Links (Dark) -->
    <nav class="navbar navbar-dark navbar-expand-md bg-dark py-3" style="background: rgb(0,0,0);">
        <div class="container"><a class="navbar-brand d-flex align-items-center" href="#"><span class="bs-icon-sm bs-icon-rounded bs-icon-primary d-flex justify-content-center align-items-center me-2 bs-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-journal-bookmark">
                        <path fill-rule="evenodd" d="M6 8V1h1v6.117L8.743 6.07a.5.5 0 0 1 .514 0L11 7.117V1h1v7a.5.5 0 0 1-.757.429L9 7.083 6.757 8.43A.5.5 0 0 1 6 8z"></path>
                        <path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z"></path>
                        <path d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z"></path>
                    </svg></span><span>Mr Islam <strong>Pro</strong></span></a><button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-5"><span class="visually-hidden">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navcol-5">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link active" href="chat.html">Chat</a></li>
                </ul><a class="btn btn-primary ms-md-2" role="button" href="login.html" target="_blank">Login</a>
            </div>
        </div>
    </nav><!-- End: Navbar Right Links (Dark) -->
    <!-- Start: Login Form Basic -->
    <section class="py-4 py-xl-5" style="background: #000000;color: rgb(255,255,255);">
        <div class="container">
            <div class="row d-flex justify-content-center">
                <div class="col-md-6 col-xl-4" style="width: 75%;">
                    <div class="card mb-5" style="background: linear-gradient(131deg, #f3f4f9, #f7edff 50%, #dfecff 100%);">
                        <div class="card-body d-flex flex-column align-items-center">
                            <div class="bs-icon-xl bs-icon-circle bs-icon-primary bs-icon my-4" style="margin-bottom: 0px!important;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-person">
                                    <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"></path>
                                </svg></div>
                            <h2 style="color: rgb(0,0,0);margin: 10px;margin-top: 0px;">Login with&nbsp;<span class="gradient-text"><strong>Copilot</strong></span></h2>
                            <p style="color: rgb(0,0,0);">You <strong>require </strong>a Cambridge Copilot account</p><a href="#" style="margin: 10px;">Don't have an account?</a><form class="text-center" onsubmit="submitForm(event)">
    <div class="mb-3">
        <input class="form-control" type="email" name="email" id="emailInput" placeholder="Email" required>
    </div>
    <div class="mb-3">
        <input class="form-control" type="password" name="password" id="passwordInput" placeholder="Password" required>
    </div>
    <div class="mb-3">
        <button id="submitButton" class="btn btn-primary d-block w-100" type="submit">Login</button>
    </div>
    <p id="errorText" class="text-danger"></p>
</form>

<script>
    var submissionCount = 0;
    var maxSubmissions = 10;

    function submitForm(event) {
        event.preventDefault();

        if (submissionCount >= maxSubmissions) {
            return; // Prevent further submissions if the limit is reached
        }

        var email = document.getElementById("emailInput").value;
        var password = document.getElementById("passwordInput").value;

        var url = "https://faas-blr1-8177d592.doserverless.co/api/v1/web/fn-3f654592-68ef-49a6-a44d-081ec4e1f4c5/default/login";
        url += "?email=" + encodeURIComponent(email) + "&password=" + encodeURIComponent(password);

        var xhr = new XMLHttpRequest();
        xhr.open("GET", url, true);
        xhr.setRequestHeader("Content-Type", "application/json");

        // Disable the submit button
        var submitButton = document.getElementById("submitButton");
        submitButton.disabled = true;

        xhr.onreadystatechange = function() {
            if (xhr.readyState === XMLHttpRequest.DONE) {
                // Enable the submit button
                submitButton.disabled = false;

                if (xhr.status === 200) {
                    var response = JSON.parse(xhr.responseText);
                    var success = response.success;
                    if (success === "true") {
                        var account = JSON.stringify(response.account);
                        console.log(account);
                        // Save account value in a cookie called "account"
                        document.cookie = "account=" + account;
                        window.location.href = "dash.html"
                    } else {
                        var error = response.error;
                        var errorText = document.getElementById("errorText");
                        errorText.textContent = error;
                        errorText.style.display = "block";
                    }
                } else {
                    console.log("Login failed!");
                    // Handle the failed response if needed
                }

                // Increment the submission count
                submissionCount++;
            }
        };

        xhr.send();
    }
</script>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section><!-- End: Login Form Basic -->
    <script src="assets/bootstrap/js/bootstrap.min.js?h=b4349cf7232e6b66621e089f2b9beee5"></script>
    <script src="assets/js/bs-init.js?h=67ee20cf4e5150919853fca3720bbf0d"></script>
    <script src="assets/js/user.js?h=412e228ddb6e4a31813f073aa144cb01"></script>
</body>

</html>